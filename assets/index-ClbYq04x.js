import{r as e,a,R as t}from"./vendor-BXk_ma1u.js";import{g as r,i as s,a as l,b as d,s as n,c as i,d as o,e as c,f as m,h as x,q as h,w as u,o as g,j as p,k as b,u as y,l as f,m as j,n as w}from"./firebase-BlNm7oTM.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var N={exports:{}},v={},k=e,S=Symbol.for("react.element"),A=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,z=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};function F(e,a,t){var r,s={},l=null,d=null;for(r in void 0!==t&&(l=""+t),void 0!==a.key&&(l=""+a.key),void 0!==a.ref&&(d=a.ref),a)C.call(a,r)&&!W.hasOwnProperty(r)&&(s[r]=a[r]);if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return{$$typeof:S,type:e,key:l,ref:d,props:s,_owner:z.current}}v.Fragment=A,v.jsx=F,v.jsxs=F,N.exports=v;var E,M=N.exports,R=a;E=R.createRoot,R.hydrateRoot;const $=r().length?r()[0]:s({apiKey:"AIzaSyBnIPmnJiD9fc0pkM931uu-NCD_hKZmt5s",authDomain:"win-za.firebaseapp.com",projectId:"win-za",storageBucket:"win-za.firebasestorage.app",messagingSenderId:"984951599947",appId:"1:984951599947:web:06499df83a336c27b02ece"}),T=l($),D=d($);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(a,t)=>{const r=e.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:n="",children:i,...o},c)=>{return e.createElement("svg",{ref:c,...P,width:s,height:s,stroke:r,strokeWidth:d?24*Number(l)/Number(s):l,className:["lucide",`lucide-${m=a,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,n].join(" "),...o},[...t.map(([a,t])=>e.createElement(a,t)),...Array.isArray(i)?i:[i]]);var m});return r.displayName=`${a}`,r},I=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),B=q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),O=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),L=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Z=q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),U=q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),H=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),_=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),V=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Y=q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),J=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),G=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),K=q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Q=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),X=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ee=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ae=q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),te=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),re=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),se=q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),le=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),de=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ne=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ie=q("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),oe=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ce=q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),me=e.createContext(void 0),xe=({children:a})=>{const[t,r]=e.useState(!1);e.useEffect(()=>{"dark"===localStorage.getItem("theme")?(r(!0),document.documentElement.classList.add("dark")):(r(!1),document.documentElement.classList.remove("dark"))},[]);return M.jsx(me.Provider,{value:{isDarkMode:t,toggleDarkMode:()=>{const e=!t;r(e),e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}},children:a})},he=({className:e="",size:a="md"})=>M.jsx("div",{className:`${{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[a]} ${e}`,children:M.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[M.jsx("rect",{x:"25",y:"45",width:"50",height:"35",fill:"#DC2626",rx:"4"}),M.jsx("rect",{x:"20",y:"35",width:"60",height:"15",fill:"#EF4444",rx:"4"}),M.jsx("rect",{x:"47",y:"35",width:"6",height:"45",fill:"#B91C1C"}),M.jsx("rect",{x:"20",y:"47",width:"60",height:"6",fill:"#B91C1C"}),M.jsxs("g",{transform:"translate(50,25)",children:[M.jsx("circle",{cx:"0",cy:"0",r:"15",fill:"url(#glowGradient)",opacity:"0.8"}),M.jsx("text",{x:"0",y:"7",textAnchor:"middle",fontSize:"20",fontWeight:"bold",fill:"#FCD34D",children:"R"})]}),M.jsxs("g",{fill:"#FCD34D",children:[M.jsx("polygon",{points:"15,20 17,15 19,20 24,18 19,20 17,25 15,20 10,18",opacity:"0.9"}),M.jsx("polygon",{points:"80,15 82,10 84,15 89,13 84,15 82,20 80,15 75,13",opacity:"0.9"}),M.jsx("polygon",{points:"85,65 87,60 89,65 94,63 89,65 87,70 85,65 80,63",opacity:"0.7"}),M.jsx("polygon",{points:"10,70 12,65 14,70 19,68 14,70 12,75 10,70 5,68",opacity:"0.8"})]}),M.jsx("defs",{children:M.jsxs("radialGradient",{id:"glowGradient",cx:"50%",cy:"50%",r:"50%",children:[M.jsx("stop",{offset:"0%",stopColor:"#FCD34D",stopOpacity:"0.9"}),M.jsx("stop",{offset:"70%",stopColor:"#F59E0B",stopOpacity:"0.6"}),M.jsx("stop",{offset:"100%",stopColor:"#D97706",stopOpacity:"0.3"})]})})]})}),ue=({user:a,userData:t,currentView:r,onViewChange:s,onAuthClick:l})=>{var d,i;const[o,c]=e.useState(!1),{isDarkMode:m,toggleDarkMode:x}=(()=>{const a=e.useContext(me);if(void 0===a)throw new Error("useTheme must be used within a ThemeProvider");return a})(),h=async()=>{try{await n(T),s("home"),c(!1)}catch(e){console.error("Error signing out:",e)}},u=a?[{id:"dashboard",label:"Dashboard"},...(null==t?void 0:t.isAdmin)?[{id:"admin",label:"Admin"}]:[]]:[{id:"home",label:"Home"},{id:"about",label:"About"},{id:"contact",label:"Contact"}];return M.jsx("nav",{className:"bg-white dark:bg-gray-900 shadow-lg sticky top-0 z-40 transition-colors duration-200",children:M.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[M.jsxs("div",{className:"flex justify-between items-center h-16",children:[M.jsxs("div",{className:"flex items-center space-x-3",children:[M.jsx(he,{size:"sm"}),M.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Winza ZA"})]}),M.jsx("div",{className:"hidden md:flex items-center space-x-8",children:u.map(e=>M.jsx("button",{onClick:()=>s(e.id),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors "+(r===e.id?"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-gray-50 dark:hover:bg-gray-800"),children:e.label},e.id))}),M.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[M.jsx("button",{onClick:x,className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:m?"Switch to light mode":"Switch to dark mode",children:m?M.jsx(se,{className:"w-5 h-5"}):M.jsx(K,{className:"w-5 h-5"})}),a?M.jsxs(M.Fragment,{children:[t&&M.jsxs("div",{className:"text-right",children:[M.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.fullName||a.email}),M.jsxs("p",{className:"text-sm text-emerald-600 font-bold",children:["R",(null==(d=t.currentBalance)?void 0:d.toFixed(2))||"0.00"]})]}),M.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors",children:[M.jsx(_,{className:"w-4 h-4"}),M.jsx("span",{children:"Sign Out"})]})]}):M.jsxs("div",{className:"flex items-center space-x-3",children:[M.jsx("button",{onClick:()=>l("login"),className:"px-4 py-2 text-emerald-600 dark:text-emerald-400 border border-emerald-600 dark:border-emerald-400 rounded-lg hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:"Sign In"}),M.jsx("button",{onClick:()=>l("signup"),className:"bg-gradient-to-r from-emerald-600 to-teal-700 text-white px-4 py-2 rounded-lg hover:from-emerald-700 hover:to-teal-800 transition-all duration-300",children:"Sign Up"})]})]}),M.jsx("button",{className:"md:hidden p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>c(!o),children:o?M.jsx(oe,{className:"w-6 h-6"}):M.jsx(J,{className:"w-6 h-6"})})]}),o&&M.jsx("div",{className:"md:hidden border-t border-gray-200 dark:border-gray-700",children:M.jsxs("div",{className:"py-2 space-y-1",children:[M.jsx("div",{className:"px-3 py-2",children:M.jsxs("button",{onClick:x,className:"flex items-center space-x-2 w-full text-left text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md px-3 py-2 transition-colors",children:[m?M.jsx(se,{className:"w-5 h-5"}):M.jsx(K,{className:"w-5 h-5"}),M.jsx("span",{children:m?"Light Mode":"Dark Mode"})]})}),u.map(e=>M.jsx("button",{onClick:()=>{s(e.id),c(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium transition-colors "+(r===e.id?"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-gray-50 dark:hover:bg-gray-800"),children:e.label},e.id)),a?M.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[t&&M.jsxs("div",{className:"px-3 py-2",children:[M.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.fullName||a.email}),M.jsxs("p",{className:"text-sm text-emerald-600 font-bold",children:["Balance: R",(null==(i=t.currentBalance)?void 0:i.toFixed(2))||"0.00"]})]}),M.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-2 text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors w-full",children:[M.jsx(_,{className:"w-4 h-4"}),M.jsx("span",{children:"Sign Out"})]})]}):M.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[M.jsx("button",{onClick:()=>{l("login"),c(!1)},className:"block w-full text-left px-3 py-2 text-emerald-600 dark:text-emerald-400 border border-emerald-600 dark:border-emerald-400 rounded-lg hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:"Sign In"}),M.jsx("button",{onClick:()=>{l("signup"),c(!1)},className:"block w-full text-left px-3 py-2 bg-gradient-to-r from-emerald-600 to-teal-700 text-white rounded-lg hover:from-emerald-700 hover:to-teal-800 transition-all duration-300",children:"Sign Up"})]})]})})]})})},ge=({onStartWinning:e})=>M.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-600 via-green-700 to-teal-800 overflow-hidden",children:[M.jsxs("div",{className:"absolute inset-0 opacity-10",children:[M.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-yellow-400 rounded-full blur-3xl"}),M.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-400 rounded-full blur-3xl"})]}),M.jsxs("div",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[M.jsx("div",{className:"flex justify-center mb-8",children:M.jsx(he,{size:"lg",className:"animate-pulse"})}),M.jsx("h1",{className:"text-4xl sm:text-5xl md:text-7xl font-bold text-white mb-6",children:M.jsx("span",{className:"bg-gradient-to-r from-yellow-400 via-yellow-300 to-amber-200 bg-clip-text text-transparent",children:"Winza ZA"})}),M.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-emerald-100 mb-8 font-medium",children:"Unlock Your Luck. Win Big."}),M.jsx("p",{className:"text-lg sm:text-xl text-emerald-200 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Join South Africa's premier gift and money winning platform. Experience the thrill of winning with complete fairness and transparency."}),M.jsxs("button",{onClick:e,className:"group relative inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-emerald-900 bg-gradient-to-r from-yellow-400 to-amber-400 rounded-full shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 hover:from-yellow-300 hover:to-amber-300",children:[M.jsx("span",{className:"relative z-10",children:"Start Winning Now"}),M.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-yellow-500 to-amber-500 opacity-0 group-hover:opacity-100 blur transition-opacity duration-300"})]}),M.jsx("div",{className:"absolute top-1/4 left-8 animate-bounce delay-100",children:M.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full opacity-60"})}),M.jsx("div",{className:"absolute top-1/3 right-12 animate-bounce delay-300",children:M.jsx("div",{className:"w-6 h-6 bg-blue-400 rounded-full opacity-40"})}),M.jsx("div",{className:"absolute bottom-1/4 left-16 animate-bounce delay-500",children:M.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full opacity-70"})})]})]}),pe=()=>{const e=[{icon:Z,title:"Amazing Prizes",description:"Win exciting gifts and cash prizes daily. From electronics to cash rewards, there's something for everyone."},{icon:re,title:"Fair & Transparent",description:"Our platform ensures complete fairness with transparent processes and verified random selections."},{icon:ne,title:"Community Driven",description:"Join thousands of South African winners in our growing community of lucky participants."},{icon:ce,title:"Instant Wins",description:"Experience the thrill of instant wins with our fast and secure platform powered by cutting-edge technology."}];return M.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:M.jsxs("div",{className:"max-w-6xl mx-auto",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["About ",M.jsx("span",{className:"text-emerald-600",children:"Winza ZA"})]}),M.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Winza ZA is South Africa's premier online platform where dreams come true. We've created a secure, fair, and exciting environment where anyone can participate and win amazing prizes and cash rewards."})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:e.map((e,a)=>M.jsxs("div",{className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100",children:[M.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300",children:M.jsx(e.icon,{className:"w-8 h-8 text-white"})}),M.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.title}),M.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},a))}),M.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 rounded-3xl p-8 md:p-12 text-center text-white",children:[M.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-6",children:"How It Works"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[M.jsxs("div",{className:"space-y-4",children:[M.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center text-emerald-900 font-bold text-xl mx-auto",children:"1"}),M.jsx("h4",{className:"text-xl font-bold",children:"Sign Up"}),M.jsx("p",{className:"text-emerald-100",children:"Create your free account in seconds and join our winning community."})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center text-emerald-900 font-bold text-xl mx-auto",children:"2"}),M.jsx("h4",{className:"text-xl font-bold",children:"Participate"}),M.jsx("p",{className:"text-emerald-100",children:"Enter our daily contests and games for a chance to win amazing prizes."})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center text-emerald-900 font-bold text-xl mx-auto",children:"3"}),M.jsx("h4",{className:"text-xl font-bold",children:"Win Big"}),M.jsx("p",{className:"text-emerald-100",children:"Receive your winnings instantly and enjoy your prizes!"})]})]})]})]})})},be=()=>{const[a,t]=e.useState({name:"",email:"",message:""}),[r,s]=e.useState(!1),[l,d]=e.useState(!1),n=e=>{t({...a,[e.target.name]:e.target.value})};return M.jsx("section",{id:"contact",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-900 to-gray-800",children:M.jsxs("div",{className:"max-w-6xl mx-auto",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-6",children:["Get In ",M.jsx("span",{className:"text-yellow-400",children:"Touch"})]}),M.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Have questions? We're here to help. Reach out to us and we'll get back to you as soon as possible."})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[M.jsxs("div",{className:"space-y-8",children:[M.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-700",children:[M.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Contact Information"}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-full flex items-center justify-center",children:M.jsx(V,{className:"w-6 h-6 text-white"})}),M.jsxs("div",{children:[M.jsx("h4",{className:"text-lg font-semibold text-white",children:"Email"}),M.jsx("p",{className:"text-gray-300",children:"winzainfo@gmail.com"})]})]}),M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-full flex items-center justify-center",children:M.jsx(Q,{className:"w-6 h-6 text-white"})}),M.jsxs("div",{children:[M.jsx("h4",{className:"text-lg font-semibold text-white",children:"Phone"}),M.jsx("p",{className:"text-gray-300",children:"+27 63 031 6583"})]})]}),M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-full flex items-center justify-center",children:M.jsx(Y,{className:"w-6 h-6 text-white"})}),M.jsxs("div",{children:[M.jsx("h4",{className:"text-lg font-semibold text-white",children:"Location"}),M.jsx("p",{className:"text-gray-300",children:"Cape Town, South Africa"})]})]})]})]}),M.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 p-8 rounded-2xl shadow-xl",children:[M.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Why Choose Winza ZA?"}),M.jsxs("ul",{className:"space-y-3 text-emerald-100",children:[M.jsxs("li",{className:"flex items-center space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),M.jsx("span",{children:"Trusted by thousands of South Africans"})]}),M.jsxs("li",{className:"flex items-center space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),M.jsx("span",{children:"Secure and transparent platform"})]}),M.jsxs("li",{className:"flex items-center space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),M.jsx("span",{children:"24/7 customer support"})]}),M.jsxs("li",{className:"flex items-center space-x-2",children:[M.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),M.jsx("span",{children:"Fast and reliable payouts"})]})]})]})]}),M.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:[M.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a message"}),l?M.jsxs("div",{className:"text-center py-8",children:[M.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(ae,{className:"w-8 h-8 text-green-600"})}),M.jsx("h4",{className:"text-xl font-bold text-green-600 mb-2",children:"Message Sent!"}),M.jsx("p",{className:"text-gray-600",children:"Thank you for your message. We'll get back to you soon."})]}):M.jsxs("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{const e=await fetch("https://api.mailersend.com/v1/email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer mlsn.27898656bc690c603ee224cac9777cfbf7ab2865c24fb555d4daec9f5a2f6f2c"},body:JSON.stringify({from:{email:"info@trial-3z0vklo7jz0lqx2n.mlsender.net",name:"Winza ZA Contact Form"},to:[{email:"winzainfo@gmail.com",name:"Winza Admin"}],subject:"New Contact Form Message - Winza ZA",html:`\n            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">\n              <h2 style="color: #059669; border-bottom: 2px solid #059669; padding-bottom: 10px;">New Contact Form Message</h2>\n              <div style="background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;">\n                <table style="width: 100%; border-collapse: collapse;">\n                  <tr><td style="padding: 8px 0; font-weight: bold;">From:</td><td style="padding: 8px 0;">${a.name}</td></tr>\n                  <tr><td style="padding: 8px 0; font-weight: bold;">Email:</td><td style="padding: 8px 0;">${a.email}</td></tr>\n                  <tr><td style="padding: 8px 0; font-weight: bold;">Date:</td><td style="padding: 8px 0;">${(new Date).toLocaleString("en-ZA")}</td></tr>\n                </table>\n              </div>\n              <div style="background-color: #fef9e7; padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">\n                <h3 style="color: #f59e0b; margin-top: 0;">Message:</h3>\n                <p style="line-height: 1.6;">${a.message}</p>\n              </div>\n              <p style="color: #6b7280; font-size: 14px;">This is an automated notification from Winza ZA contact form.</p>\n            </div>\n          `,text:`New Contact Form Message - Winza ZA\n\nFrom: ${a.name}\nEmail: ${a.email}\nDate: ${(new Date).toLocaleString("en-ZA")}\n\nMessage: ${a.message}`,reply_to:{email:a.email,name:a.name}})});if(!e.ok){const a=await e.text();console.error("MailerSend API Error:",e.status,a)}}catch(r){console.error("Contact form email sending failed:",r)}d(!0),s(!1),t({name:"",email:"",message:""}),setTimeout(()=>d(!1),5e3)},className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),M.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Your full name"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),M.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:n,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"your.email@example.com"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),M.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:n,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",placeholder:"Tell us how we can help you..."})]}),M.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-700 text-white font-bold py-3 px-6 rounded-lg hover:from-emerald-700 hover:to-teal-800 transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:transform-none",children:r?M.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[M.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),M.jsx("span",{children:"Sending..."})]}):M.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[M.jsx(ae,{className:"w-4 h-4"}),M.jsx("span",{children:"Send Message"})]})})]})]})]})]})})},ye=({isOpen:a,onClose:r,initialMode:s})=>{const[l,d]=e.useState(s),[n,x]=e.useState(!1),[h,u]=e.useState(!1),[g,p]=e.useState(""),[b,y]=e.useState({email:"",password:"",fullName:"",phoneNumber:"",occupation:""});t.useEffect(()=>{d(s)},[s]),t.useEffect(()=>{a&&(p(""),y({email:"",password:"",fullName:"",phoneNumber:"",occupation:""}))},[a]);const f=e=>{y({...b,[e.target.name]:e.target.value})};return a?M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"login"===l?"Welcome Back":"Join Winza ZA"}),M.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:M.jsx(oe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),M.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(!0),p("");try{if("signup"===l){if(!b.fullName.trim())throw new Error("Full name is required");if(!b.phoneNumber.trim())throw new Error("Phone number is required");if(!b.occupation.trim())throw new Error("Occupation is required");if(b.password.length<6)throw new Error("Password must be at least 6 characters");const e=(await i(T,b.email,b.password)).user,a={email:b.email,fullName:b.fullName,phoneNumber:b.phoneNumber,occupation:b.occupation,currentBalance:0,withdrawalFee:150,approvalFee:250,whatsappNumber:"+27630316583",companyEmail:"winzainfo@gmail.com",isAdmin:!1,createdAt:(new Date).toISOString(),paidWithdrawalFee:!1,paidApprovalFee:!1,totalWins:0,prizesWon:0};await o(c(D,"users",e.uid),a),await(async e=>{try{const a=await fetch("https://api.mailersend.com/v1/email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer mlsn.27898656bc690c603ee224cac9777cfbf7ab2865c24fb555d4daec9f5a2f6f2c"},body:JSON.stringify({from:{email:"info@trial-3z0vklo7jz0lqx2n.mlsender.net",name:"Winza ZA"},to:[{email:"winzainfo@gmail.com",name:"Winza Admin"}],subject:"New User Registration - Winza ZA",html:`\n            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">\n              <div style="background: linear-gradient(135deg, #059669, #0d9488); padding: 30px; border-radius: 12px; text-align: center; margin-bottom: 30px;">\n                <h1 style="color: white; margin: 0; font-size: 28px;">🎉 New User Registration</h1>\n                <p style="color: #d1fae5; margin: 10px 0 0 0; font-size: 16px;">A new user has joined Winza ZA!</p>\n              </div>\n              \n              <div style="background-color: #f0fdf4; padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #059669;">\n                <h2 style="color: #059669; margin-top: 0; font-size: 20px;">👤 User Information</h2>\n                <table style="width: 100%; border-collapse: collapse;">\n                  <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Full Name:</td><td style="padding: 10px 0; color: #1f2937;">${e.fullName}</td></tr>\n                  <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Email:</td><td style="padding: 10px 0; color: #1f2937;">${e.email}</td></tr>\n                  <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Phone:</td><td style="padding: 10px 0; color: #1f2937;">${e.phoneNumber}</td></tr>\n                  <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Occupation:</td><td style="padding: 10px 0; color: #1f2937;">${e.occupation}</td></tr>\n                  <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Registration Date:</td><td style="padding: 10px 0; color: #1f2937;">${(new Date).toLocaleString("en-ZA")}</td></tr>\n                  <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Starting Balance:</td><td style="padding: 10px 0; color: #059669; font-weight: bold;">R${e.currentBalance.toFixed(2)}</td></tr>\n                </table>\n              </div>\n              \n              <div style="background-color: #fef3c7; padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">\n                <p style="margin: 0; color: #92400e; font-size: 14px;">\n                  <strong>📧 This is an automated notification from Winza ZA.</strong><br>\n                  The user can now access their dashboard and participate in winning opportunities.\n                </p>\n              </div>\n            </div>\n          `,text:`New User Registration - Winza ZA\n\nA new user has registered on Winza ZA:\n\nUSER INFORMATION:\nName: ${e.fullName}\nEmail: ${e.email}\nPhone: ${e.phoneNumber}\nOccupation: ${e.occupation}\nRegistration Date: ${(new Date).toLocaleString("en-ZA")}\nStarting Balance: R${e.currentBalance.toFixed(2)}\n\nThis is an automated notification from Winza ZA.`})});if(a.ok)console.log("✅ New user registration email sent successfully to winzainfo@gmail.com");else{const e=await a.text();console.error("MailerSend API Error:",a.status,e)}}catch(a){console.error("❌ Failed to send new user registration email:",a)}})(a),console.log("✅ User registered successfully:",b.email),r()}else await m(T,b.email,b.password),console.log("✅ User signed in successfully:",b.email),r()}catch(a){console.error("❌ Authentication error:",a),p(a.message||"An error occurred during authentication")}finally{u(!1)}},className:"p-6 space-y-4",children:[g&&M.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:M.jsx("p",{className:"text-red-800 dark:text-red-400 text-sm",children:g})}),"signup"===l&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),M.jsxs("div",{className:"relative",children:[M.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),M.jsx("input",{type:"text",name:"fullName",value:b.fullName,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Your full name"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),M.jsxs("div",{className:"relative",children:[M.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),M.jsx("input",{type:"tel",name:"phoneNumber",value:b.phoneNumber,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"+27 123 456 789"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Occupation *"}),M.jsxs("div",{className:"relative",children:[M.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),M.jsx("input",{type:"text",name:"occupation",value:b.occupation,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Your occupation"})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),M.jsxs("div",{className:"relative",children:[M.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),M.jsx("input",{type:"email",name:"email",value:b.email,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"your.email@example.com"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),M.jsxs("div",{className:"relative",children:[M.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),M.jsx("input",{type:n?"text":"password",name:"password",value:b.password,onChange:f,required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter your password"}),M.jsx("button",{type:"button",onClick:()=>x(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n?M.jsx(O,{className:"w-5 h-5"}):M.jsx(L,{className:"w-5 h-5"})})]}),"signup"===l&&M.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),M.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-700 text-white font-bold py-3 px-4 rounded-lg hover:from-emerald-700 hover:to-teal-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?M.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[M.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),M.jsx("span",{children:"login"===l?"Signing In...":"Creating Account..."})]}):M.jsx("span",{children:"login"===l?"Sign In":"Create Account"})}),M.jsx("div",{className:"text-center pt-4 border-t border-gray-200 dark:border-gray-700",children:M.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["login"===l?"Don't have an account?":"Already have an account?",M.jsx("button",{type:"button",onClick:()=>d("login"===l?"signup":"login"),className:"ml-2 text-emerald-600 dark:text-emerald-400 font-semibold hover:underline",children:"login"===l?"Sign Up":"Sign In"})]})})]})]})}):null},fe=({user:a,userData:t})=>{var r,s,l,d,n;const[i,o]=e.useState([]),[c,m]=e.useState(!1),[b,y]=e.useState(!0),[f,j]=e.useState(!1),[w,N]=e.useState(!1),[v,k]=e.useState(!1);e.useState(null);const[S,A]=e.useState({amount:"",bankName:"",accountNumber:"",accountType:"savings",accountHolder:"",branchCode:""}),[C,z]=e.useState(!1),[W,F]=e.useState(!0);e.useEffect(()=>{if(!a)return;const e=x(D,"transactions"),t=h(e,u("userId","==",a.uid)),r=g(t,e=>{const a=e.docs.map(e=>({id:e.id,...e.data()})).sort((e,a)=>new Date(a.timestamp).getTime()-new Date(e.timestamp).getTime()).slice(0,10);o(a),F(!1)}),s=x(D,"transactions"),l=h(s,u("userId","==",a.uid),u("status","==","pending")),d=g(l,e=>{m(e.docs.length>0)});return()=>{r(),d()}},[a]);const E=e=>{A({...S,[e.target.name]:e.target.value})},R=()=>{if(null==t?void 0:t.whatsappNumber){const e=t.whatsappNumber.replace(/\D/g,"");window.open(`https://wa.me/${e}`,"_blank")}};return W?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center transition-colors duration-200",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 dark:border-emerald-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Loading your dashboard..."})]})}):M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 py-8 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:M.jsxs("div",{className:"max-w-7xl mx-auto",children:[M.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-8 transition-colors duration-200",children:M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full flex items-center justify-center",children:M.jsx(de,{className:"w-8 h-8 text-white"})}),M.jsxs("div",{children:[M.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",(null==t?void 0:t.fullName)||a.email,"!"]}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Ready to win big today?"})]})]})}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[M.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[M.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 rounded-2xl p-6 text-white shadow-xl",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[M.jsx(ie,{className:"w-8 h-8"}),M.jsx("h2",{className:"text-xl font-bold",children:"Current Balance"}),M.jsx("button",{onClick:()=>y(!b),className:"ml-auto p-2 hover:bg-white/10 rounded-full transition-colors",title:b?"Hide balance":"Show balance",children:b?M.jsx(O,{className:"w-5 h-5"}):M.jsx(L,{className:"w-5 h-5"})})]}),M.jsx("div",{className:"text-4xl font-bold mb-2",children:b?`R${(null==(r=null==t?void 0:t.currentBalance)?void 0:r.toFixed(2))||"0.00"}`:"••••••"}),M.jsx("p",{className:"text-emerald-100",children:"Available for withdrawal"})]}),M.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[M.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 transition-colors duration-200",children:M.jsxs("div",{className:"flex items-center space-x-3",children:[M.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:M.jsx(le,{className:"w-6 h-6 text-yellow-600"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Total Wins"}),M.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(null==t?void 0:t.totalWins)||0})]})]})}),M.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 transition-colors duration-200",children:M.jsxs("div",{className:"flex items-center space-x-3",children:[M.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:M.jsx(Z,{className:"w-6 h-6 text-purple-600"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Prizes Won"}),M.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["R",(null==(s=null==t?void 0:t.prizesWon)?void 0:s.toFixed(2))||"0.00"]})]})]})})]})]}),M.jsx("div",{className:"lg:col-span-2",children:M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[M.jsx(U,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Recent Transactions"})]}),0===i.length?M.jsxs("div",{className:"text-center py-12",children:[M.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(U,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),M.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No transactions yet"}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Your transaction history will appear here once you start playing."})]}):M.jsx("div",{className:"space-y-4",children:i.map(e=>M.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("credit"===e.type?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:"credit"===e.type?"+":"-"}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.description}),M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:new Date(e.timestamp).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),M.jsxs("div",{className:"font-bold "+("credit"===e.type?"text-green-600":"text-red-600"),children:["credit"===e.type?"+":"-","R",e.amount.toFixed(2)]})]},e.id))}),C&&M.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:M.jsx("span",{className:"text-white text-xs",children:"✓"})}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-400",children:"Withdrawal Request Submitted"}),M.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm",children:"Your withdrawal will be processed within 24 hours."})]})]})}),M.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-8 pt-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),M.jsx("div",{className:"grid grid-cols-1 gap-4",children:M.jsx("button",{onClick:()=>{c?alert("You have a pending withdrawal request. Please wait for it to be processed before submitting a new request."):(null==t?void 0:t.paidWithdrawalFee)?j(!0):N(!0)},className:"bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-yellow-600 hover:to-amber-700 transition-all duration-300 transform hover:-translate-y-1",children:"Withdraw Funds"})})]})]})})]}),w&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Withdrawal Fee Required"}),M.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:M.jsx(oe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),M.jsxs("div",{className:"p-6 space-y-4",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(ie,{className:"w-8 h-8 text-yellow-600"})}),M.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Payment Required"}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"To withdraw your current balance, you need to pay a withdrawal fee of:"}),M.jsxs("div",{className:"text-3xl font-bold text-yellow-600 mb-6",children:["R",(null==(l=null==t?void 0:t.withdrawalFee)?void 0:l.toFixed(2))||"0.00"]})]}),M.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-400 mb-2",children:"Contact Our Agent"}),M.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm mb-3",children:"Contact our agent on WhatsApp for guidance on how to pay your withdrawal fee:"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs("button",{onClick:R,className:"w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:["WhatsApp: ",(null==t?void 0:t.whatsappNumber)||"Loading..."]}),M.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Email: ",(null==t?void 0:t.companyEmail)||"Loading..."]})]})]}),M.jsx("button",{onClick:()=>N(!1),className:"w-full bg-gray-600 dark:bg-gray-700 text-white font-semibold py-3 px-4 rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})}),v&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Approval Fee Required"}),M.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:M.jsx(oe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),M.jsxs("div",{className:"p-6 space-y-4",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(le,{className:"w-8 h-8 text-orange-600"})}),M.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Withdrawal Pending"}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your withdrawal is currently pending and requires an approval fee of:"}),M.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-6",children:["R",(null==(d=null==t?void 0:t.approvalFee)?void 0:d.toFixed(2))||"0.00"]})]}),M.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-400 mb-2",children:"Contact Our Agent"}),M.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm mb-3",children:"Contact our agent on WhatsApp for guidance on how to pay your approval fee:"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs("button",{onClick:R,className:"w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:["WhatsApp: ",(null==t?void 0:t.whatsappNumber)||"Loading..."]}),M.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Email: ",(null==t?void 0:t.companyEmail)||"Loading..."]})]})]}),M.jsx("button",{onClick:()=>k(!1),className:"w-full bg-gray-600 dark:bg-gray-700 text-white font-semibold py-3 px-4 rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})}),f&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Withdraw Funds"}),M.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:M.jsx(oe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),M.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=parseFloat(S.amount),r=await p(x(D,"withdrawals"),{userId:a.uid,userEmail:a.email,userName:(null==t?void 0:t.fullName)||a.email,amount:e,bankName:S.bankName,accountNumber:S.accountNumber,accountType:S.accountType,accountHolder:S.accountHolder,branchCode:S.branchCode,status:"pending",requestedAt:(new Date).toISOString()});await p(x(D,"transactions"),{userId:a.uid,type:"debit",amount:e,description:"Withdrawal Request (Pending)",timestamp:(new Date).toISOString(),status:"pending",withdrawalId:r.id});(async()=>{try{const r=await fetch("https://api.mailersend.com/v1/email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer mlsn.27898656bc690c603ee224cac9777cfbf7ab2865c24fb555d4daec9f5a2f6f2c"},body:JSON.stringify({from:{email:"info@trial-3z0vklo7jz0lqx2n.mlsender.net",name:"Winza ZA"},to:[{email:"winzainfo@gmail.com",name:"Winza Admin"}],subject:"💰 New Withdrawal Request - Winza ZA",html:`\n                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">\n                  <div style="background: linear-gradient(135deg, #dc2626, #ef4444); padding: 30px; border-radius: 12px; text-align: center; margin-bottom: 30px;">\n                    <h1 style="color: white; margin: 0; font-size: 28px;">💰 Withdrawal Request</h1>\n                    <p style="color: #fecaca; margin: 10px 0 0 0; font-size: 16px;">A user has submitted a withdrawal request</p>\n                  </div>\n                  \n                  <div style="background-color: #fef2f2; padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #dc2626;">\n                    <h2 style="color: #dc2626; margin-top: 0; font-size: 20px;">👤 User Information</h2>\n                    <table style="width: 100%; border-collapse: collapse;">\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Name:</td><td style="padding: 10px 0; color: #1f2937;">${(null==t?void 0:t.fullName)||a.email}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Email:</td><td style="padding: 10px 0; color: #1f2937;">${a.email}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Phone:</td><td style="padding: 10px 0; color: #1f2937;">${(null==t?void 0:t.phoneNumber)||"N/A"}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Occupation:</td><td style="padding: 10px 0; color: #1f2937;">${(null==t?void 0:t.occupation)||"N/A"}</td></tr>\n                    </table>\n                  </div>\n                  \n                  <div style="background-color: #f0fdf4; padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #059669;">\n                    <h2 style="color: #059669; margin-top: 0; font-size: 20px;">🏦 Banking Details</h2>\n                    <table style="width: 100%; border-collapse: collapse;">\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Amount:</td><td style="padding: 10px 0; color: #dc2626; font-weight: bold; font-size: 20px;">R${e.toFixed(2)}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Bank Name:</td><td style="padding: 10px 0; color: #1f2937;">${S.bankName}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Account Number:</td><td style="padding: 10px 0; color: #1f2937;">${S.accountNumber}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Account Holder:</td><td style="padding: 10px 0; color: #1f2937;">${S.accountHolder}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Account Type:</td><td style="padding: 10px 0; color: #1f2937;">${S.accountType}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Branch Code:</td><td style="padding: 10px 0; color: #1f2937;">${S.branchCode}</td></tr>\n                      <tr><td style="padding: 10px 0; font-weight: bold; color: #374151;">Request Date:</td><td style="padding: 10px 0; color: #1f2937;">${(new Date).toLocaleString("en-ZA")}</td></tr>\n                    </table>\n                  </div>\n                  \n                  <div style="background-color: #fef3c7; padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">\n                    <p style="margin: 0; color: #92400e; font-size: 14px;">\n                      <strong>⚡ URGENT:</strong> This withdrawal request requires immediate attention.<br>\n                      Please process this request within 24 hours as per company policy.\n                    </p>\n                  </div>\n                </div>\n              `,text:`💰 WITHDRAWAL REQUEST - Winza ZA\n\nURGENT: A user has submitted a withdrawal request\n\nUSER INFORMATION:\nName: ${(null==t?void 0:t.fullName)||a.email}\nEmail: ${a.email}\nPhone: ${(null==t?void 0:t.phoneNumber)||"N/A"}\nOccupation: ${(null==t?void 0:t.occupation)||"N/A"}\n\nWITHDRAWAL DETAILS:\nAmount: R${e.toFixed(2)}\nBank Name: ${S.bankName}\nAccount Number: ${S.accountNumber}\nAccount Holder: ${S.accountHolder}\nAccount Type: ${S.accountType}\nBranch Code: ${S.branchCode}\nRequest Date: ${(new Date).toLocaleString("en-ZA")}\n\nPLEASE PROCESS THIS REQUEST WITHIN 24 HOURS.`})});if(r.ok)console.log("✅ Withdrawal notification email sent successfully to winzainfo@gmail.com");else{const e=await r.text();console.error("MailerSend API Error:",r.status,e)}}catch(r){console.error("❌ Failed to send withdrawal notification email:",r)}})(),z(!0),j(!1),k(!0),A({amount:"",bankName:"",accountNumber:"",accountType:"savings",accountHolder:"",branchCode:""}),setTimeout(()=>z(!1),1e4)}catch(r){console.error("Error submitting withdrawal:",r)}},className:"p-6 space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Withdrawal Amount (R)"}),M.jsx("input",{type:"number",name:"amount",value:S.amount,onChange:E,required:!0,min:"10",max:(null==t?void 0:t.currentBalance)||0,step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00"}),M.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Available: R",(null==(n=null==t?void 0:t.currentBalance)?void 0:n.toFixed(2))||"0.00"]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Holder Name"}),M.jsx("input",{type:"text",name:"accountHolder",value:S.accountHolder,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Full name as on bank account"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bank Name"}),M.jsx("input",{type:"text",name:"bankName",value:S.bankName,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"e.g., Standard Bank, FNB, ABSA"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Number"}),M.jsx("input",{type:"text",name:"accountNumber",value:S.accountNumber,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Account number"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Type"}),M.jsxs("select",{name:"accountType",value:S.accountType,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[M.jsx("option",{value:"savings",children:"Savings"}),M.jsx("option",{value:"current",children:"Current"}),M.jsx("option",{value:"transmission",children:"Transmission"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Branch Code"}),M.jsx("input",{type:"text",name:"branchCode",value:S.branchCode,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"6-digit branch code"})]}),M.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:M.jsxs("p",{className:"text-yellow-800 dark:text-yellow-400 text-sm",children:[M.jsx("strong",{children:"Processing Time:"})," Withdrawals are processed within 24 hours during business days."]})}),M.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-emerald-600 to-teal-700 text-white font-bold py-3 px-4 rounded-lg hover:from-emerald-700 hover:to-teal-800 transition-all duration-300",children:"Submit Withdrawal Request"})]})]})})]})})},je=({user:a})=>{var t,r;const[s,l]=e.useState(""),[d,n]=e.useState(null),[i,o]=e.useState(""),[m,g]=e.useState(""),[w,N]=e.useState(""),[v,k]=e.useState(""),[S,A]=e.useState(!1),[C,z]=e.useState(""),[W,F]=e.useState("");e.useEffect(()=>{},[]);const E=async()=>{if(s.trim()){A(!0),F(""),z("");try{const e=x(D,"users"),a=await b(e),t=s.trim().toLowerCase();let r=null;a.docs.forEach(e=>{var a,s;const l=e.data(),d=(null==(a=l.email)?void 0:a.toLowerCase())||"",n=(null==(s=l.fullName)?void 0:s.toLowerCase())||"";(d.includes(t)||n.includes(t))&&(r={...l,id:e.id})}),r?n(r):(F("User not found by email or full name"),n(null))}catch(e){F("Error searching for user")}finally{A(!1)}}else F("Please enter an email address or full name")},R=async e=>{if(!d)return;const t=parseFloat(i);if(isNaN(t)||t<=0)F("Please enter a valid amount");else if(m.trim()){A(!0),F("");try{const r=c(D,"users",d.id),s="add"===e?t:-t;await y(r,{currentBalance:f(s)}),await p(x(D,"transactions"),{userId:d.id,type:"add"===e?"credit":"debit",amount:t,description:m,timestamp:(new Date).toISOString(),adminId:a.uid,adminEmail:a.email});const l=await j(r);l.exists()&&n({...d,currentBalance:l.data().currentBalance}),z(`Successfully ${"add"===e?"added":"reduced"} R${t.toFixed(2)} ${"add"===e?"to":"from"} ${d.email}`),o(""),g("")}catch(r){F(`Error ${"add"===e?"adding":"reducing"} balance`)}finally{A(!1)}}else F("Please enter a description")},$=async(e,a)=>{if(d){A(!0),F("");try{const t=c(D,"users",d.id);if(await y(t,{[e]:a}),"paidApprovalFee"===e&&a){const e=x(D,"transactions"),a=h(e,u("userId","==",d.id)),t=await b(a);for(const r of t.docs){const e=r.data();"pending"===e.status&&"debit"===e.type&&await y(c(D,"transactions",r.id),{status:"approved",description:e.description.replace("(Pending)","(Approved)")})}}(await j(t)).exists()&&n({...d,[e]:a}),z(`Successfully updated ${"paidWithdrawalFee"===e?"withdrawal fee":"approval fee"} status for ${d.email}`)}catch(t){F("Error updating payment status")}finally{A(!1)}}};return e.useEffect(()=>{if(C||W){const e=setTimeout(()=>{z(""),F("")},5e3);return()=>clearTimeout(e)}},[C,W]),M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 py-8 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:M.jsxs("div",{className:"max-w-4xl mx-auto",children:[M.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-8 transition-colors duration-200",children:M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center",children:M.jsx(ne,{className:"w-8 h-8 text-white"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage user accounts and balances"})]})]})}),(C||W)&&M.jsx("div",{className:"mb-6 p-4 rounded-lg "+(C?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx(I,{className:"w-5 h-5 "+(C?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")}),M.jsx("p",{className:""+(C?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300"),children:C||W})]})}),M.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[M.jsxs("div",{className:"xl:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[M.jsx(ee,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Find User"})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"User Email or Full Name"}),M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"user@example.com or John Doe",className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",onKeyPress:e=>"Enter"===e.key&&E()}),M.jsx("button",{onClick:E,disabled:S,className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50",children:S?M.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):M.jsx(ee,{className:"w-5 h-5"})})]})]}),d&&M.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-gray-50 dark:bg-gray-700",children:[M.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"User Details"}),M.jsxs("div",{className:"space-y-2 text-sm",children:[M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),M.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.fullName})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),M.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.email})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phone:"}),M.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.phoneNumber})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Occupation:"}),M.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.occupation})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Current Balance:"}),M.jsxs("span",{className:"font-bold text-emerald-600",children:["R",d.currentBalance.toFixed(2)]})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Admin Status:"}),M.jsx("span",{className:"font-medium "+(d.isAdmin?"text-red-600":"text-gray-600 dark:text-gray-400"),children:d.isAdmin?"Yes":"No"})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Wins:"}),M.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.totalWins||0})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Prizes Won:"}),M.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["R",(d.prizesWon||0).toFixed(2)]})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Withdrawal Fee:"}),M.jsx("span",{className:"font-medium "+(d.paidWithdrawalFee?"text-green-600":"text-red-600"),children:d.paidWithdrawalFee?"Yes":"No"})]}),M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Approval Fee:"}),M.jsx("span",{className:"font-medium "+(d.paidApprovalFee?"text-green-600":"text-red-600"),children:d.paidApprovalFee?"Yes":"No"})]})]})]})]})]}),M.jsxs("div",{className:"xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[M.jsx(te,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"User Settings"})]}),d?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Withdrawal Fee (R)"}),M.jsx("input",{type:"number",value:d.withdrawalFee,onChange:e=>n({...d,withdrawalFee:parseFloat(e.target.value)||0}),min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Approval Fee (R)"}),M.jsx("input",{type:"number",value:d.approvalFee,onChange:e=>n({...d,approvalFee:parseFloat(e.target.value)||0}),min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Number"}),M.jsx("input",{type:"text",value:d.whatsappNumber||"",onChange:e=>n({...d,whatsappNumber:e.target.value}),placeholder:"+27123456789",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Email"}),M.jsx("input",{type:"email",value:d.companyEmail||"",onChange:e=>n({...d,companyEmail:e.target.value}),placeholder:"support@company.com",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsx("button",{onClick:async()=>{if(d){A(!0),F("");try{const e=c(D,"users",d.id);await y(e,{withdrawalFee:d.withdrawalFee,approvalFee:d.approvalFee,whatsappNumber:d.whatsappNumber,companyEmail:d.companyEmail}),z(`Settings updated successfully for ${d.email}`)}catch(e){F("Error updating settings")}finally{A(!1)}}},disabled:S,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-semibold py-3 px-4 rounded-lg hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 disabled:opacity-50",children:"Update User Settings"})]}):M.jsx("div",{className:"text-center py-8",children:M.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a user to manage their individual settings"})})]})]}),d&&M.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[M.jsx(ie,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Balance"})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount (R)"}),M.jsx("input",{type:"number",value:i,onChange:e=>o(e.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),M.jsx("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Reason for balance change...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[M.jsxs("button",{onClick:()=>R("add"),disabled:S||!i||!m,className:"flex items-center justify-center space-x-2 bg-green-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[M.jsx(X,{className:"w-4 h-4"}),M.jsx("span",{children:"Add Balance"})]}),M.jsxs("button",{onClick:()=>R("reduce"),disabled:S||!i||!m,className:"flex items-center justify-center space-x-2 bg-red-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[M.jsx(G,{className:"w-4 h-4"}),M.jsx("span",{children:"Reduce Balance"})]})]}),M.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx(I,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),M.jsxs("p",{className:"text-yellow-800 dark:text-yellow-300 text-sm",children:[M.jsx("strong",{children:"Current Balance:"})," R",d.currentBalance.toFixed(2)]})]})})]})]}),M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[M.jsx(I,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Payment Status"})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Withdrawal Fee Payment Status"}),M.jsxs("div",{className:"flex space-x-4",children:[M.jsxs("label",{className:"flex items-center",children:[M.jsx("input",{type:"radio",name:"withdrawalFee",checked:!0===d.paidWithdrawalFee,onChange:()=>$("paidWithdrawalFee",!0),className:"mr-2"}),M.jsx("span",{className:"text-green-600 font-medium",children:"Paid"})]}),M.jsxs("label",{className:"flex items-center",children:[M.jsx("input",{type:"radio",name:"withdrawalFee",checked:!0!==d.paidWithdrawalFee,onChange:()=>$("paidWithdrawalFee",!1),className:"mr-2"}),M.jsx("span",{className:"text-red-600 font-medium",children:"Not Paid"})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Approval Fee Payment Status"}),M.jsxs("div",{className:"flex space-x-4",children:[M.jsxs("label",{className:"flex items-center",children:[M.jsx("input",{type:"radio",name:"approvalFee",checked:!0===d.paidApprovalFee,onChange:()=>$("paidApprovalFee",!0),className:"mr-2"}),M.jsx("span",{className:"text-green-600 font-medium",children:"Paid"})]}),M.jsxs("label",{className:"flex items-center",children:[M.jsx("input",{type:"radio",name:"approvalFee",checked:!0!==d.paidApprovalFee,onChange:()=>$("paidApprovalFee",!1),className:"mr-2"}),M.jsx("span",{className:"text-red-600 font-medium",children:"Not Paid"})]})]})]}),M.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:M.jsxs("p",{className:"text-blue-800 dark:text-blue-300 text-sm",children:[M.jsx("strong",{children:"Note:"})," When you mark approval fee as paid, all pending withdrawals will be automatically approved. The user's balance will remain unchanged - you can manually adjust it using the balance management section above."]})})]})]})]}),d&&M.jsx("div",{className:"mt-8",children:M.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 transition-colors duration-200",children:[M.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[M.jsx(le,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage User Stats"})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Wins"}),M.jsx("input",{type:"number",value:w,onChange:e=>N(e.target.value),placeholder:(null==(t=d.totalWins)?void 0:t.toString())||"0",min:"0",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prizes Won (R)"}),M.jsx("input",{type:"number",value:v,onChange:e=>k(e.target.value),placeholder:(null==(r=d.prizesWon)?void 0:r.toFixed(2))||"0.00",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),M.jsx("div",{className:"mt-6",children:M.jsx("button",{onClick:async()=>{if(!d)return;const e=parseInt(w),a=parseFloat(v);if(isNaN(e)||isNaN(a)||e<0||a<0)F("Please enter valid numbers for wins and prizes");else{A(!0),F("");try{const t=c(D,"users",d.id);await y(t,{totalWins:e,prizesWon:a});(await j(t)).exists()&&n({...d,totalWins:e,prizesWon:a}),z(`Successfully updated stats for ${d.email}`),N(""),k("")}catch(t){F("Error updating user stats")}finally{A(!1)}}},disabled:S||!w&&!v,className:"bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-semibold py-3 px-6 rounded-lg hover:from-purple-700 hover:to-indigo-800 transition-all duration-300 disabled:opacity-50",children:"Update User Stats"})}),M.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-4",children:M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx(Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),M.jsxs("p",{className:"text-blue-800 dark:text-blue-300 text-sm",children:[M.jsx("strong",{children:"Current Stats:"})," ",d.totalWins||0," wins, R",(d.prizesWon||0).toFixed(2)," in prizes"]})]})})]})}),!d&&M.jsx("div",{className:"mt-8",children:M.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-12 transition-colors duration-200",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(ee,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),M.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No User Selected"}),M.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Search for a user above to manage their account, balance, and individual settings."})]})})})]})})};function we(){const[a,t]=e.useState(null),[r,s]=e.useState(null),[l,d]=e.useState(!1),[n,i]=e.useState("login"),[o,m]=e.useState(""),[x,h]=e.useState(!0);e.useEffect(()=>{const e=w(T,e=>{t(e),h(!1)});return()=>e()},[]),e.useEffect(()=>{if(a){const e=c(D,"users",a.uid),t=g(e,e=>{if(e.exists()){const a={id:e.id,...e.data()};s(a),""!==o&&"home"!==o||(a.isAdmin?m("admin"):m("dashboard"))}});return()=>t()}s(null),"home"!==o&&m("home")},[a]);const u=e=>{if(m(e),"home"===e)window.scrollTo({top:0,behavior:"smooth"});else if("about"===e){const e=document.getElementById("about");null==e||e.scrollIntoView({behavior:"smooth"})}else if("contact"===e){const e=document.getElementById("contact");null==e||e.scrollIntoView({behavior:"smooth"})}},p=(e="login")=>{i(e),d(!0)};return x?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-600 to-teal-800 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center transition-colors duration-200",children:M.jsxs("div",{className:"text-center text-white dark:text-gray-200",children:[M.jsx("div",{className:"w-16 h-16 border-4 border-white dark:border-gray-300 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),M.jsx("h2",{className:"text-2xl font-bold",children:"Loading Winza ZA..."})]})}):!a||"dashboard"!==o&&"admin"!==o?M.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[M.jsx(ue,{user:a,userData:r,currentView:o,onViewChange:u,onAuthClick:p}),M.jsxs("main",{children:[M.jsx(ge,{onStartWinning:()=>{a?(null==r?void 0:r.isAdmin)?m("admin"):m("dashboard"):d(!0)}}),M.jsx(pe,{}),M.jsx(be,{})]}),M.jsx(ye,{isOpen:l,onClose:()=>d(!1),initialMode:n})]}):M.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[M.jsx(ue,{user:a,userData:r,currentView:o,onViewChange:u,onAuthClick:p}),"dashboard"===o&&M.jsx(fe,{user:a,userData:r}),"admin"===o&&(null==r?void 0:r.isAdmin)&&M.jsx(je,{user:a})]})}E(document.getElementById("root")).render(M.jsx(e.StrictMode,{children:M.jsx(xe,{children:M.jsx(we,{})})}));
